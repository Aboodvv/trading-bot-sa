"""
نظرة عامة على بنية المشروع
"""

PROJECT_STRUCTURE = """
📁 بوت التداول الآلي الاحترافي
│
├── 🚀 START_HERE.txt              ابدأ من هنا!
│
├── 📋 الملفات الرئيسية
│   ├── bot.py                     البوت الكامل - يدمج كل شيء
│   ├── technical_analysis.py     المحلل الفني (10+ مؤشرات)
│   ├── trading_strategy.py       الاستراتيجيات (5 استراتيجيات)
│   ├── risk_management.py        إدارة المخاطر وحماية رأس المال
│   └── config.py                  الإعدادات والتخصيص
│
├── 🎮 واجهات الاستخدام
│   ├── start.py                   قائمة تفاعلية سهلة
│   └── examples.py                8 أمثلة عملية
│
├── 📚 التوثيق العربي الشامل
│   ├── README.md                  الدليل الرئيسي
│   ├── QUICKSTART.md              البدء السريع (5 دقائق)
│   ├── GUIDE.md                   الدليل الشامل المفصل
│   ├── INSTALL.md                 دليل التثبيت
│   └── FILES.md                   دليل الملفات
│
└── ⚙️ ملفات التكوين
    ├── requirements.txt           المكتبات المطلوبة
    ├── .env.example              نموذج لمفاتيح API
    └── .gitignore                حماية الملفات الحساسة
"""

COMPONENTS_OVERVIEW = """
═══════════════════════════════════════════════════════════════
                    مكونات البوت الرئيسية
═══════════════════════════════════════════════════════════════

1️⃣ TechnicalAnalyzer (technical_analysis.py)
   ┌──────────────────────────────────────────┐
   │ المدخلات:                                │
   │  • رمز السهم (AAPL, MSFT, etc.)         │
   │  • الفترة الزمنية (1y, 6mo, etc.)       │
   │                                          │
   │ المعالجة:                                │
   │  • جلب البيانات من Yahoo Finance        │
   │  • حساب 10+ مؤشرات فنية                 │
   │  • تحليل الاتجاه والزخم                 │
   │                                          │
   │ المخرجات:                                │
   │  • قيم المؤشرات                          │
   │  • إشارات البيع/الشراء                  │
   │  • التوصية النهائية                     │
   └──────────────────────────────────────────┘

2️⃣ TradingStrategy (trading_strategy.py)
   ┌──────────────────────────────────────────┐
   │ الاستراتيجيات:                          │
   │                                          │
   │ • Momentum Strategy                      │
   │   └─→ RSI + MACD                        │
   │                                          │
   │ • Trend Following                        │
   │   └─→ المتوسطات المتحركة                │
   │                                          │
   │ • Breakout Strategy                      │
   │   └─→ Bollinger Bands + الحجم           │
   │                                          │
   │ • Mean Reversion                         │
   │   └─→ التشبع الشرائي/البيعي             │
   │                                          │
   │ • Composite Strategy ⭐                  │
   │   └─→ تجمع الكل وتأخذ قرار بالأغلبية    │
   └──────────────────────────────────────────┘

3️⃣ RiskManager (risk_management.py)
   ┌──────────────────────────────────────────┐
   │ الوظائف:                                │
   │                                          │
   │ 1. حساب حجم المركز                      │
   │    └─→ بناءً على رأس المال والمخاطرة   │
   │                                          │
   │ 2. وقف الخسارة                          │
   │    └─→ حماية من الخسائر الكبيرة         │
   │                                          │
   │ 3. جني الأرباح                          │
   │    └─→ تأمين الأرباح تلقائياً           │
   │                                          │
   │ 4. حدود المخاطرة                        │
   │    └─→ يومية وكلية                      │
   │                                          │
   │ 5. تتبع الأداء                          │
   │    └─→ إحصائيات شاملة                   │
   └──────────────────────────────────────────┘

4️⃣ TradingBot (bot.py)
   ┌──────────────────────────────────────────┐
   │            سير العمل:                    │
   │                                          │
   │  1. مسح السوق                            │
   │     └─→ تحليل جميع الأسهم في القائمة    │
   │                                          │
   │  2. اكتشاف الفرص                         │
   │     └─→ البحث عن إشارات قوية            │
   │                                          │
   │  3. تقييم المخاطرة                       │
   │     └─→ التأكد من إمكانية التداول       │
   │                                          │
   │  4. تنفيذ الصفقة                         │
   │     └─→ فتح المركز مع حدود الحماية      │
   │                                          │
   │  5. المراقبة                             │
   │     └─→ تحديث المراكز المفتوحة           │
   │                                          │
   │  6. الإغلاق التلقائي                     │
   │     └─→ عند وقف الخسارة/جني الأرباح     │
   └──────────────────────────────────────────┘
"""

DATA_FLOW = """
═══════════════════════════════════════════════════════════════
                        تدفق البيانات
═══════════════════════════════════════════════════════════════

           ┌─────────────────────┐
           │   Yahoo Finance     │
           │   (بيانات الأسهم)   │
           └──────────┬──────────┘
                      │
                      ▼
           ┌─────────────────────┐
           │ TechnicalAnalyzer   │
           │ (تحليل فني)         │
           └──────────┬──────────┘
                      │
                      ▼
           ┌─────────────────────┐
           │ TradingStrategy     │
           │ (توليد إشارات)      │
           └──────────┬──────────┘
                      │
                      ▼
           ┌─────────────────────┐
           │  RiskManager        │
           │ (تقييم المخاطرة)    │
           └──────────┬──────────┘
                      │
            ┌─────────┴─────────┐
            │                   │
            ▼                   ▼
    ┌──────────────┐    ┌─────────────┐
    │ فتح المركز   │    │   انتظار    │
    └──────┬───────┘    └─────────────┘
           │
           ▼
    ┌──────────────┐
    │ مراقبة مستمرة│
    └──────┬───────┘
           │
    ┌──────┴───────┐
    │              │
    ▼              ▼
┌─────────┐  ┌──────────┐
│ وقف خسارة│  │جني أرباح│
└─────────┘  └──────────┘
"""

USAGE_EXAMPLES = """
═══════════════════════════════════════════════════════════════
                    أمثلة الاستخدام
═══════════════════════════════════════════════════════════════

🔹 مثال 1: تحليل سريع لسهم
──────────────────────────────────────────────────────────────
from technical_analysis import analyze_stock

result = analyze_stock("AAPL")
print(f"التوصية: {result['recommendation']}")
print(f"السعر: ${result['analysis']['price']:.2f}")
print(f"RSI: {result['analysis']['rsi_value']:.2f}")


🔹 مثال 2: الحصول على إشارة تداول
──────────────────────────────────────────────────────────────
from trading_strategy import CompositeStrategy

strategy = CompositeStrategy()
analysis = strategy.get_detailed_analysis("MSFT")

print(f"الإجراء: {analysis['signal']['action']}")
print(f"الثقة: {analysis['signal']['confidence']}%")


🔹 مثال 3: حساب حجم المركز
──────────────────────────────────────────────────────────────
from risk_management import RiskManager

rm = RiskManager(initial_capital=10000)
size = rm.calculate_position_size("GOOGL", 140.0, 137.0)

print(f"حجم المركز: {size} سهم")


🔹 مثال 4: تشغيل البوت الكامل
──────────────────────────────────────────────────────────────
from bot import TradingBot
import config

bot = TradingBot(
    watchlist=config.WATCHLIST,
    initial_capital=10000,
    trading_mode="PAPER"
)

bot.run_once()  # فحص واحد
# أو
# bot.run_continuous(interval=60)  # فحص كل دقيقة
"""

CUSTOMIZATION_GUIDE = """
═══════════════════════════════════════════════════════════════
                    دليل التخصيص
═══════════════════════════════════════════════════════════════

✏️ تخصيص قائمة الأسهم
──────────────────────────────────────────────────────────────
في config.py:

# أسهم أمريكية
WATCHLIST = ["AAPL", "MSFT", "GOOGL", "AMZN", "TSLA"]

# أسهم سعودية
WATCHLIST = ["2222.SR", "1120.SR", "2010.SR", "2030.SR"]

# عملات رقمية
WATCHLIST = ["BTC-USD", "ETH-USD", "BNB-USD"]

# مختلط
WATCHLIST = ["AAPL", "2222.SR", "BTC-USD"]


✏️ تخصيص إعدادات المخاطرة
──────────────────────────────────────────────────────────────
في config.py:

# محافظ (مخاطرة منخفضة)
MAX_POSITION_SIZE = 0.05      # 5% فقط
STOP_LOSS_PERCENT = 0.015     # وقف خسارة ضيق
MAX_DAILY_LOSS = 0.03         # 3% يومياً
MAX_OPEN_POSITIONS = 3        # 3 مراكز فقط

# عدواني (مخاطرة عالية)
MAX_POSITION_SIZE = 0.15      # 15%
STOP_LOSS_PERCENT = 0.03      # وقف خسارة واسع
MAX_DAILY_LOSS = 0.08         # 8% يومياً
MAX_OPEN_POSITIONS = 7        # 7 مراكز


✏️ تخصيص المؤشرات الفنية
──────────────────────────────────────────────────────────────
في config.py:

# RSI أكثر حساسية
RSI_PERIOD = 10              # بدلاً من 14
RSI_OVERSOLD = 25            # بدلاً من 30
RSI_OVERBOUGHT = 75          # بدلاً من 70

# MACD أسرع
MACD_FAST = 8                # بدلاً من 12
MACD_SLOW = 21               # بدلاً من 26


✏️ إنشاء استراتيجية مخصصة
──────────────────────────────────────────────────────────────
في trading_strategy.py:

class MyStrategy(TradingStrategy):
    def __init__(self):
        super().__init__("استراتيجيتي الخاصة")
    
    def generate_signal(self, analyzer):
        latest = analyzer.get_latest_values()
        
        signal = {
            'strategy': self.name,
            'action': 'HOLD',
            'confidence': 0,
            'reasons': []
        }
        
        # أضف منطقك هنا
        # مثال: شراء عندما RSI < 25 و ADX > 30
        if latest['RSI'] < 25 and latest['ADX'] > 30:
            signal['action'] = 'BUY'
            signal['confidence'] = 85
            signal['reasons'].append("فرصة قوية")
        
        return signal

# ثم أضفها للاستراتيجية المركبة
"""

print(PROJECT_STRUCTURE)
print("\n")
print(COMPONENTS_OVERVIEW)
print("\n")
print(DATA_FLOW)
print("\n")
print(USAGE_EXAMPLES)
print("\n")
print(CUSTOMIZATION_GUIDE)
